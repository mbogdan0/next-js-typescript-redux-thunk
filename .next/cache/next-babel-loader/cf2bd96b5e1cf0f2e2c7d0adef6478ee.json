{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { INVITE_ERROR_FETCHING, INVITE_FILL, INVITE_START_FETCHING } from './types';\nexport var useInvite = function useInvite() {\n  var _useSelector = useSelector(function (state) {\n    return state.invites;\n  }),\n      loading = _useSelector.loading,\n      data = _useSelector.data,\n      error = _useSelector.error;\n\n  var dispatch = useDispatch();\n\n  var dispatchAction = function dispatchAction(action) {\n    return dispatch(action);\n  };\n\n  useEffect(function () {\n    dispatchAction({\n      type: INVITE_START_FETCHING\n    });\n    setTimeout(function () {\n      if (Math.random() > 0.5) {\n        dispatchAction({\n          type: INVITE_FILL,\n          payload: [{\n            text: 'hi honey',\n            id: 1\n          }, {\n            text: 'oh honey',\n            id: 2\n          }]\n        });\n      } else {\n        dispatchAction({\n          type: INVITE_ERROR_FETCHING,\n          payload: 'error fetching olol'\n        });\n      }\n    }, 1000);\n  }, [dispatchAction]);\n\n  var add = function add(payload) {\n    var list = [].concat(_toConsumableArray(data), [payload]);\n    setTimeout(function () {\n      dispatchAction({\n        type: INVITE_FILL,\n        payload: list\n      });\n    }, 1000);\n  };\n\n  return {\n    loading: loading,\n    data: data,\n    error: error,\n    add: add\n  };\n};","map":{"version":3,"sources":["/Users/bogdan/Downloads/next-blogdan/src/containers/invite/useInvite.ts"],"names":["useDispatch","useSelector","useEffect","INVITE_ERROR_FETCHING","INVITE_FILL","INVITE_START_FETCHING","useInvite","state","invites","loading","data","error","dispatch","dispatchAction","action","type","setTimeout","Math","random","payload","text","id","add","list"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,QAA0B,OAA1B;AAGA,SAAiBC,qBAAjB,EAAwCC,WAAxC,EAAqDC,qBAArD,QAAsG,SAAtG;AAGA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,qBACIL,WAAW,CAC1C,UAACM,KAAD;AAAA,WAAWA,KAAK,CAACC,OAAjB;AAAA,GAD0C,CADf;AAAA,MACrBC,OADqB,gBACrBA,OADqB;AAAA,MACZC,IADY,gBACZA,IADY;AAAA,MACNC,KADM,gBACNA,KADM;;AAI7B,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;;AACA,MAAMa,cAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD;AAAA,WAAgCF,QAAQ,CAACE,MAAD,CAAxC;AAAA,GAAvB;;AAEAZ,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,cAAc,CAAC;AAAEE,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAd;AACAW,IAAAA,UAAU,CAAC,YAAM;AACf,UAAIC,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBL,QAAAA,cAAc,CAAC;AACbE,UAAAA,IAAI,EAAEX,WADO;AAEbe,UAAAA,OAAO,EAAE,CACP;AACEC,YAAAA,IAAI,EAAE,UADR;AAEEC,YAAAA,EAAE,EAAE;AAFN,WADO,EAKP;AACED,YAAAA,IAAI,EAAE,UADR;AAEEC,YAAAA,EAAE,EAAE;AAFN,WALO;AAFI,SAAD,CAAd;AAaD,OAdD,MAcO;AACLR,QAAAA,cAAc,CAAC;AACbE,UAAAA,IAAI,EAAEZ,qBADO;AAEbgB,UAAAA,OAAO,EAAE;AAFI,SAAD,CAAd;AAID;AACF,KArBS,EAqBP,IArBO,CAAV;AAsBD,GAxBQ,EAwBN,CAACN,cAAD,CAxBM,CAAT;;AAyBA,MAAMS,GAAG,GAAG,SAANA,GAAM,CAACH,OAAD,EAAqB;AAC/B,QAAMI,IAAI,gCAAOb,IAAP,IAAaS,OAAb,EAAV;AACAH,IAAAA,UAAU,CAAC,YAAM;AACfH,MAAAA,cAAc,CAAC;AACbE,QAAAA,IAAI,EAAEX,WADO;AAEbe,QAAAA,OAAO,EAAEI;AAFI,OAAD,CAAd;AAID,KALS,EAKP,IALO,CAAV;AAMD,GARD;;AAUA,SAAO;AACLd,IAAAA,OAAO,EAAPA,OADK;AACIC,IAAAA,IAAI,EAAJA,IADJ;AACUC,IAAAA,KAAK,EAALA,KADV;AACiBW,IAAAA,GAAG,EAAHA;AADjB,GAAP;AAGD,CA7CM","sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { AppState } from '../../redux/root-reducer';\nimport { InvitesState } from './reducer';\nimport { Invite, INVITE_ERROR_FETCHING, INVITE_FILL, INVITE_START_FETCHING, InvitesActionTypes } from './types';\n\n\nexport const useInvite = () => {\n  const { loading, data, error } = useSelector<AppState, InvitesState>(\n    (state) => state.invites,\n  );\n  const dispatch = useDispatch();\n  const dispatchAction = (action: InvitesActionTypes) => dispatch(action);\n\n  useEffect(() => {\n    dispatchAction({ type: INVITE_START_FETCHING });\n    setTimeout(() => {\n      if (Math.random() > 0.5) {\n        dispatchAction({\n          type: INVITE_FILL,\n          payload: [\n            {\n              text: 'hi honey',\n              id: 1,\n            },\n            {\n              text: 'oh honey',\n              id: 2,\n            },\n          ],\n        });\n      } else {\n        dispatchAction({\n          type: INVITE_ERROR_FETCHING,\n          payload: 'error fetching olol',\n        });\n      }\n    }, 1000);\n  }, [dispatchAction]);\n  const add = (payload: Invite) => {\n    const list = [...data, payload];\n    setTimeout(() => {\n      dispatchAction({\n        type: INVITE_FILL,\n        payload: list,\n      });\n    }, 1000);\n  };\n\n  return {\n    loading, data, error, add,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}