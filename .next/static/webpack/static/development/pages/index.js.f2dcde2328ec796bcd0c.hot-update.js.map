{"version":3,"file":"static/webpack/static/development/pages/index.js.f2dcde2328ec796bcd0c.hot-update.js","sources":["webpack:///./src/containers/invite/Invite.tsx","webpack:///./src/containers/invite/hooks/useInvite.ts","webpack:///./src/containers/invite/index.ts","webpack:///./src/containers/invite/redux/actions.ts","webpack:///./src/containers/invite/redux/reducer.ts","webpack:///./src/containers/invite/redux/types.ts","webpack:///./src/pages/index.tsx","webpack:///./src/redux/root-reducer.ts"],"sourcesContent":["import React, { ChangeEvent, FC, useState, useEffect } from 'react';\nimport { useInvite } from './hooks/useInvite';\n\nexport const Invite: FC = () => {\n  const [text, setText] = useState('');\n  const {\n    add, loading, data, error, load,\n  } = useInvite();\n  useEffect(() => {\n    load();\n  }, []);\n  const onSave = () => {\n    add({\n      text,\n      id: Math.floor(Math.random() * 1000),\n    });\n  };\n  return (\n    <div>\n      invite\n      <div>\n        <div>LOADING: {JSON.stringify(loading)}</div>\n        <div>DATA: {JSON.stringify(data)}</div>\n        <div>ERROR: {JSON.stringify(error)}</div>\n        <textarea onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setText(e.target.value)} />\n        <button type=\"button\" onClick={onSave}>\n          Create\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { AppState } from '../../../redux/root-reducer';\nimport { InvitesState } from '../redux/reducer';\nimport { Invite, INVITE_ERROR_FETCHING, INVITE_FILL, INVITE_START_FETCHING, InvitesActionTypes } from '../redux/types';\nimport { inviteFillFetching, inviteStartFetching } from '../redux/actions';\n\nexport const useInvite = () => {\n  const { loading, data, error } = useSelector<AppState, InvitesState>(\n    (state) => state.invites,\n  );\n  const dispatch = useDispatch();\n  const dispatchAction = (action: InvitesActionTypes) => dispatch(action);\n  const add = (payload: Invite) => {\n    const list = [...data, payload];\n    setTimeout(() => {\n      dispatchAction(inviteFillFetching(list));\n    }, 1000);\n  };\n\n  const load = () => {\n    dispatchAction(inviteStartFetching());\n    setTimeout(() => {\n      const payload = [\n        {\n          text: 'hi honey',\n          id: 1,\n        },\n        {\n          text: 'oh honey',\n          id: 2,\n        },\n      ];\n      dispatchAction(inviteFillFetching(payload));\n    }, 1000);\n  };\n  return {\n    loading, data, error, add, load,\n  };\n};\n","export { Invite } from './Invite';\n","import {\n  INVITE_FILL,\n  INVITE_START_FETCHING,\n  InvitesActionTypes,\n  Invite,\n  INVITE_ERROR_FETCHING,\n} from './types';\n\nexport function inviteStartFetching(): InvitesActionTypes {\n  return {\n    type: INVITE_START_FETCHING,\n  };\n}\n\nexport function inviteFillFetching(data: Invite[]): InvitesActionTypes {\n  return {\n    type: INVITE_FILL,\n    payload: data,\n  };\n}\n\nexport function inviteErrorFetching(data: string): InvitesActionTypes {\n  return {\n    type: INVITE_ERROR_FETCHING,\n    payload: data,\n  };\n}\n","import {\n  Invite,\n  INVITE_ERROR_FETCHING,\n  INVITE_FETCH_ASYNC,\n  INVITE_FILL,\n  INVITE_START_FETCHING,\n  InvitesActionTypes,\n} from './types';\n\nexport type InvitesState = {\n  data: Invite[];\n  loading: boolean;\n  error: null | string;\n};\n\nconst initialState: InvitesState = {\n  data: [],\n  loading: false,\n  error: null,\n};\n\nexport const invitesReducer = (state = initialState, action: InvitesActionTypes): InvitesState => {\n  switch (action.type) {\n    case INVITE_START_FETCHING:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n    case INVITE_FILL:\n      return {\n        ...state,\n        data: action.payload,\n        loading: false,\n        error: null,\n      };\n    case INVITE_ERROR_FETCHING:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    case INVITE_FETCH_ASYNC:\n      return state;\n    default:\n      // eslint-disable-next-line no-case-declarations,@typescript-eslint/no-unused-vars\n      const x: never = action;\n  }\n  return state;\n};\n","export type Invite = {\n  id: number;\n  text: string;\n};\n\nexport const INVITE_START_FETCHING = 'INVITE_START_FETCHING';\ntype InviteStartFetchingAction = {\n  type: typeof INVITE_START_FETCHING;\n};\n\nexport const INVITE_FILL = 'INVITE_FILL';\nexport type InviteFillAction = {\n  type: typeof INVITE_FILL;\n  payload: Invite[];\n};\n\nexport const INVITE_ERROR_FETCHING = 'INVITE_ERROR_FETCHING';\nexport type InviteErrorFetchingAction = {\n  type: typeof INVITE_ERROR_FETCHING;\n  payload: string;\n};\n\nexport const INVITE_FETCH_ASYNC = 'INVITE_FETCH_ASYNC';\ntype InviteFetchAsyncAction = {\n  type: typeof INVITE_FETCH_ASYNC;\n};\n\nexport type InvitesActionTypes =\n  | InviteStartFetchingAction\n  | InviteFillAction\n  | InviteErrorFetchingAction\n  | InviteFetchAsyncAction;\n","import React from 'react';\nimport { NextPage } from 'next';\nimport { Invite } from '../containers/invite';\nimport { withRedux } from '../redux/with-redux';\nimport { INVITE_FILL } from '../containers/invite/redux/types';\n\nconst IndexPage: NextPage = () => {\n  return (\n    <div>\n      <h1>OK</h1>\n      <Invite />\n    </div>\n  );\n};\n\nIndexPage.getInitialProps = ({ reduxStore }: any) => {\n  // Tick the time once, so we'll have a\n  // valid time before first render\n  const { dispatch } = reduxStore;\n\n  dispatch({\n    type: INVITE_FILL,\n    payload: [\n      {\n        text: 'hi honey',\n        id: 1,\n      },\n      {\n        text: 'oh honey',\n        id: 2,\n      },\n    ],\n  });\n\n  return {};\n};\n\n\nexport default withRedux(IndexPage);\n","import { combineReducers } from 'redux';\n\nimport { invitesReducer as invites } from '../containers/invite/redux/reducer';\n\nexport const rootReducer = combineReducers({\n  invites,\n});\n\nexport type AppState = ReturnType<typeof rootReducer>;\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;;;;;;;AC/BA;AAKA;AAEA;AAAA;AAEA;AAAA;AAFA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAFA;AAIA;;;;;;;;;;;;;;;;;;;;;;AC1BA;AAeA;AACA;AACA;AACA;AAHA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAHA;AACA;AAIA;AACA;AAEA;AACA;AACA;AAJA;AACA;AAKA;AACA;AAEA;AACA;AAHA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AAxBA;AACA;AAyBA;AACA;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAMA;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAPA;AAcA;AACA;AACA;AAEA;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AADA;;;;A","sourceRoot":""}