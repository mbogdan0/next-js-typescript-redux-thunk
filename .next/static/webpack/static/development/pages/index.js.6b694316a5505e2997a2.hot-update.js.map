{"version":3,"file":"static/webpack/static/development/pages/index.js.6b694316a5505e2997a2.hot-update.js","sources":["webpack:///./src/containers/invite/Invite.tsx","webpack:///./src/containers/invite/useInvite.ts"],"sourcesContent":["import React, { ChangeEvent, FC, useState, useEffect } from 'react';\nimport { useInvite } from './useInvite';\n\nexport const Invite: FC = () => {\n  const [text, setText] = useState('');\n  const {\n    add, loading, data, error, load,\n  } = useInvite();\n  useEffect(() => {\n    load();\n  }, []);\n  const onSave = () => {\n    add({\n      text,\n      id: Math.floor(Math.random() * 1000),\n    });\n  };\n  return (\n    <div>\n      invite\n      <div>\n        <div>LOADING: {JSON.stringify(loading)}</div>\n        <div>DATA: {JSON.stringify(data)}</div>\n        <div>ERROR: {JSON.stringify(error)}</div>\n        <textarea onChange={(e: ChangeEvent<HTMLTextAreaElement>) => setText(e.target.value)} />\n        <button type=\"button\" onClick={onSave}>\n          Create\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { AppState } from '../../redux/root-reducer';\nimport { InvitesState } from './reducer';\nimport { Invite, INVITE_ERROR_FETCHING, INVITE_FILL, INVITE_START_FETCHING, InvitesActionTypes } from './types';\n\n\nexport const useInvite = () => {\n  const { loading, data, error } = useSelector<AppState, InvitesState>(\n    (state) => state.invites,\n  );\n  const dispatch = useDispatch();\n  const dispatchAction = (action: InvitesActionTypes) => dispatch(action);\n  const add = (payload: Invite) => {\n    const list = [...data, payload];\n    setTimeout(() => {\n      dispatchAction({\n        type: INVITE_FILL,\n        payload: list,\n      });\n    }, 1000);\n  };\n\n  const load = () => {\n    dispatchAction({ type: INVITE_START_FETCHING });\n    setTimeout(() => {\n      if (Math.random() > 0.5) {\n        dispatchAction({\n          type: INVITE_FILL,\n          payload: [\n            {\n              text: 'hi honey',\n              id: 1,\n            },\n            {\n              text: 'oh honey',\n              id: 2,\n            },\n          ],\n        });\n      } else {\n        dispatchAction({\n          type: INVITE_ERROR_FETCHING,\n          payload: 'error fetching olol',\n        });\n      }\n    }, 1000);\n  };\n  return {\n    loading, data, error, add, load,\n  };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;;;;AC/BA;AAIA;AAGA;AAAA;AAEA;AAAA;AAFA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAPA;AAaA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;;;;A","sourceRoot":""}